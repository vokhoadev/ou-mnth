# 4.3.1 TÌM MÃ BÙ 2 CỦA SỐ ÂM

## Mô tả dạng bài tập
Tìm biểu diễn mã bù 2 (two's complement) của số âm với số bit cho trước.

## Phương pháp giải

### Phương pháp 1: Bù 1 + 1
1. **Biểu diễn trị tuyệt đối của số âm bằng n bit**
2. **Đảo tất cả các bit (bù 1)**
3. **Cộng thêm 1**

### Phương pháp 2: Tìm bit 1 đầu tiên
1. **Biểu diễn trị tuyệt đối của số âm bằng n bit**
2. **Tìm bit 1 đầu tiên từ bên phải**
3. **Giữ nguyên bit 1 đó và tất cả bit bên phải**
4. **Đảo tất cả bit bên trái bit 1 đã tìm**

---

## BÀI TẬP CÓ LỜI GIẢI CHI TIẾT (10 bài)

### Bài 1: Tìm mã bù 2 của -5 với n = 8 bit

**Lời giải (Phương pháp 1):**
```
Bước 1: Biểu diễn |−5| = 5 bằng 8 bit
5₁₀ = 00000101₂

Bước 2: Đảo tất cả bit (bù 1)
00000101₂ → 11111010₂

Bước 3: Cộng thêm 1
  11111010
+        1
----------
  11111011

Kết quả: −5₁₀ = 11111011₂ (mã bù 2)
```

**Lời giải (Phương pháp 2):**
```
Bước 1: Biểu diễn |−5| = 5 bằng 8 bit
5₁₀ = 00000101₂

Bước 2: Tìm bit 1 đầu tiên từ phải
00000101₂
        ↑
    bit 1 đầu tiên

Bước 3: Giữ nguyên bit 1 và các bit bên phải, đảo các bit bên trái
00000101₂ → 11111011₂

Kết quả: −5₁₀ = 11111011₂ (mã bù 2)
```

### Bài 2: Tìm mã bù 2 của -10 với n = 8 bit

**Lời giải:**
```
Bước 1: Biểu diễn |−10| = 10 bằng 8 bit
10₁₀ = 00001010₂

Bước 2: Tìm bit 1 đầu tiên từ phải
00001010₂
       ↑
   bit 1 đầu tiên

Bước 3: Giữ nguyên bit 1 và các bit bên phải, đảo các bit bên trái
00001010₂ → 11110110₂

Kết quả: −10₁₀ = 11110110₂ (mã bù 2)
```

### Bài 3: Tìm mã bù 2 của -15 với n = 8 bit

**Lời giải:**
```
Bước 1: Biểu diễn |−15| = 15 bằng 8 bit
15₁₀ = 00001111₂

Bước 2: Tìm bit 1 đầu tiên từ phải
00001111₂
      ↑
  bit 1 đầu tiên

Bước 3: Giữ nguyên bit 1 và các bit bên phải, đảo các bit bên trái
00001111₂ → 11110001₂

Kết quả: −15₁₀ = 11110001₂ (mã bù 2)
```

### Bài 4: Tìm mã bù 2 của -25 với n = 8 bit

**Lời giải:**
```
Bước 1: Biểu diễn |−25| = 25 bằng 8 bit
25₁₀ = 00011001₂

Bước 2: Tìm bit 1 đầu tiên từ phải
00011001₂
     ↑
 bit 1 đầu tiên

Bước 3: Giữ nguyên bit 1 và các bit bên phải, đảo các bit bên trái
00011001₂ → 11100111₂

Kết quả: −25₁₀ = 11100111₂ (mã bù 2)
```

### Bài 5: Tìm mã bù 2 của -64 với n = 8 bit

**Lời giải:**
```
Bước 1: Biểu diễn |−64| = 64 bằng 8 bit
64₁₀ = 01000000₂

Bước 2: Tìm bit 1 đầu tiên từ phải
01000000₂
 ↑
bit 1 đầu tiên

Bước 3: Giữ nguyên bit 1 và các bit bên phải, đảo các bit bên trái
01000000₂ → 11000000₂

Kết quả: −64₁₀ = 11000000₂ (mã bù 2)
```

### Bài 6: Tìm mã bù 2 của -100 với n = 8 bit

**Lời giải:**
```
Bước 1: Biểu diễn |−100| = 100 bằng 8 bit
100₁₀ = 01100100₂

Bước 2: Tìm bit 1 đầu tiên từ phải
01100100₂
    ↑
  bit 1 đầu tiên

Bước 3: Giữ nguyên bit 1 và các bit bên phải, đảo các bit bên trái
01100100₂ → 10011100₂

Kết quả: −100₁₀ = 10011100₂ (mã bù 2)
```

### Bài 7: Tìm mã bù 2 của -128 với n = 8 bit

**Lời giải:**
```
Bước 1: Biểu diễn |−128| = 128 bằng 8 bit
128₁₀ = 10000000₂

Bước 2: Tìm bit 1 đầu tiên từ phải
10000000₂
↑
bit 1 đầu tiên

Bước 3: Giữ nguyên bit 1 và các bit bên phải, đảo các bit bên trái
10000000₂ → 10000000₂

Kết quả: −128₁₀ = 10000000₂ (mã bù 2)
```

### Bài 8: Tìm mã bù 2 của -200 với n = 16 bit

**Lời giải:**
```
Bước 1: Biểu diễn |−200| = 200 bằng 16 bit
200₁₀ = 0000000011001000₂

Bước 2: Tìm bit 1 đầu tiên từ phải
0000000011001000₂
           ↑
       bit 1 đầu tiên

Bước 3: Giữ nguyên bit 1 và các bit bên phải, đảo các bit bên trái
0000000011001000₂ → 1111111100111000₂

Kết quả: −200₁₀ = 1111111100111000₂ (mã bù 2)
```

### Bài 9: Tìm mã bù 2 của -500 với n = 16 bit

**Lời giải:**
```
Bước 1: Biểu diễn |−500| = 500 bằng 16 bit
500₁₀ = 0000000111110100₂

Bước 2: Tìm bit 1 đầu tiên từ phải
0000000111110100₂
          ↑
      bit 1 đầu tiên

Bước 3: Giữ nguyên bit 1 và các bit bên phải, đảo các bit bên trái
0000000111110100₂ → 1111111000001100₂

Kết quả: −500₁₀ = 1111111000001100₂ (mã bù 2)
```

### Bài 10: Tìm mã bù 2 của -1000 với n = 16 bit

**Lời giải:**
```
Bước 1: Biểu diễn |−1000| = 1000 bằng 16 bit
1000₁₀ = 0000001111101000₂

Bước 2: Tìm bit 1 đầu tiên từ phải
0000001111101000₂
         ↑
     bit 1 đầu tiên

Bước 3: Giữ nguyên bit 1 và các bit bên phải, đảo các bit bên trái
0000001111101000₂ → 1111110000011000₂

Kết quả: −1000₁₀ = 1111110000011000₂ (mã bù 2)
```

---

## BÀI TẬP TỰ RÈN LUYỆN (20 bài)

### Cấp độ cơ bản (1-10) - n = 8 bit:
1. Tìm mã bù 2 của -3
2. Tìm mã bù 2 của -7
3. Tìm mã bù 2 của -12
4. Tìm mã bù 2 của -18
5. Tìm mã bù 2 của -22
6. Tìm mã bù 2 của -30
7. Tìm mã bù 2 của -35
8. Tìm mã bù 2 của -42
9. Tìm mã bù 2 của -50
10. Tìm mã bù 2 của -75

### Cấp độ trung bình (11-15) - n = 8 bit:
11. Tìm mã bù 2 của -80
12. Tìm mã bù 2 của -90
13. Tìm mã bù 2 của -110
14. Tìm mã bù 2 của -120
15. Tìm mã bù 2 của -127

### Cấp độ nâng cao (16-20) - n = 16 bit:
16. Tìm mã bù 2 của -300
17. Tìm mã bù 2 của -400
18. Tìm mã bù 2 của -600
19. Tìm mã bù 2 của -800
20. Tìm mã bù 2 của -1500

---

##  MẸO VÀ LƯU Ý

### Mẹo làm nhanh:
- **Phương pháp 2** thường nhanh hơn phương pháp 1
- **Tìm bit 1 đầu tiên** từ bên phải
- **Giữ nguyên** bit 1 và các bit bên phải
- **Đảo tất cả** bit bên trái bit 1

### Lưu ý quan trọng:
- **Số dương**: mã bù 2 = biểu diễn nhị phân thông thường
- **Số âm**: sử dụng phương pháp bù 2
- **Khoảng biểu diễn**: -2^(n-1) đến +2^(n-1)-1
- **Kiểm tra**: cộng với số dương tương ứng = 0

### Cách kiểm tra:
- **Cộng** mã bù 2 với số dương tương ứng
- **Kết quả** phải = 0 (bỏ qua bit nhớ)
- **Chuyển ngược** từ mã bù 2 về thập phân

### Các số đặc biệt:
- **-1**: 111...111₂ (tất cả bit = 1)
- **-2^(n-1)**: 100...000₂ (bit cao nhất = 1, còn lại = 0)
- **0**: 000...000₂ (tất cả bit = 0)

### Phương pháp nhanh:
1. **Viết** trị tuyệt đối bằng n bit
2. **Tìm** bit 1 đầu tiên từ phải
3. **Giữ** bit 1 và các bit bên phải
4. **Đảo** tất cả bit bên trái
5. **Kiểm tra** bằng phép cộng

---

## **LỖI THƯỜNG GẶP**

### **Lỗi 1: Nhầm lẫn giữa bù 1 và bù 2**
```
Sai: Chỉ đảo bit (bù 1)
-5₁₀ = 11111010₂ (SAI - đây là bù 1)

Đúng: Đảo bit + cộng 1 (bù 2)
-5₁₀ = 11111011₂ (ĐÚNG - đây là bù 2)
```

### **Lỗi 2: Quên kiểm tra phạm vi**
```
Sai: Tìm mã bù 2 của -200 với 8 bit
-200₁₀ = 00111000₂ (SAI - vượt phạm vi)

Đúng: Kiểm tra phạm vi trước
8 bit: -128 ≤ -200 ≤ 127 (SAI - vượt phạm vi)
→ Cần ít nhất 9 bit
```

### **Lỗi 3: Nhầm lẫn bit 1 đầu tiên**
```
Sai: Tìm bit 1 đầu tiên từ trái
00000101₂
    ↑
  bit 1 đầu tiên từ trái (SAI)

Đúng: Tìm bit 1 đầu tiên từ phải
00000101₂
        ↑
    bit 1 đầu tiên từ phải (ĐÚNG)
```

---

##  **CÂU HỎI THƯỜNG GẶP (FAQ)**

### **Q1: Tại sao cần mã bù 2?**
**A:** Mã bù 2 cho phép thực hiện phép trừ bằng phép cộng, đơn giản hóa thiết kế phần cứng.

### **Q2: Làm sao biết kết quả đúng?**
**A:** Kiểm tra bằng phép cộng: Mã bù 2 + Số dương = 0 (bỏ bit nhớ)

### **Q3: Tại sao có 2 phương pháp?**
**A:** Phương pháp 1 (bù 1 + 1) dễ hiểu, phương pháp 2 (tìm bit 1) nhanh hơn.

### **Q4: Số 0 có mã bù 2 không?**
**A:** Có, số 0 có mã bù 2 là 000...000₂ (tất cả bit = 0).

### **Q5: Số âm nhỏ nhất là gì?**
**A:** Với n bit, số âm nhỏ nhất là -2^(n-1) có mã bù 2 là 100...000₂.

---

**Tài liệu tham khảo:**
- Chương 2: Biểu diễn dữ liệu trên máy tính
- Phần 2.6: Mã bù 2
- Phần 2.7: Tìm mã bù 2
