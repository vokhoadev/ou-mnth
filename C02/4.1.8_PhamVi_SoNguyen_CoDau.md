# 4.1.8 PHẠM VI SỐ NGUYÊN CÓ DẤU

## Mô tả dạng bài tập
Xác định phạm vi giá trị của số nguyên có dấu với số bit cho trước và kiểm tra tràn số.

## Phương pháp giải

### Phương pháp 1: Tính toán phạm vi
1. **Phạm vi**: -2^(n-1) đến 2^(n-1) - 1
2. **Số bit**: n bit
3. **Giá trị tối đa**: 2^(n-1) - 1
4. **Giá trị tối thiểu**: -2^(n-1)

### Phương pháp 2: Kiểm tra tràn số
1. **Tràn số**: giá trị > 2^(n-1) - 1 hoặc < -2^(n-1)
2. **Kết quả thực tế**: giá trị mod 2^n
3. **Carry flag**: bit tràn (nếu có)

## Bảng phạm vi giá trị:
| Số bit | Phạm vi | Giá trị tối đa | Giá trị tối thiểu |
|--------|---------|----------------|-------------------|
| 4      | -8 đến 7 | 7              | -8                |
| 8      | -128 đến 127 | 127          | -128              |
| 16     | -32768 đến 32767 | 32767      | -32768            |
| 32     | -2147483648 đến 2147483647 | 2147483647 | -2147483648 |

---

## BÀI TẬP CÓ LỜI GIẢI CHI TIẾT (10 bài)

### Bài 1: Xác định phạm vi giá trị của số nguyên 4 bit có dấu

**Lời giải:**
```
Bước 1: Xác định số bit
n = 4 bit

Bước 2: Tính giá trị tối đa
2^(n-1) - 1 = 2^(4-1) - 1 = 2^3 - 1 = 8 - 1 = 7

Bước 3: Tính giá trị tối thiểu
-2^(n-1) = -2^(4-1) = -2^3 = -8

Bước 4: Xác định phạm vi
-8 ≤ giá trị ≤ 7

Kết quả: Phạm vi của số nguyên 4 bit có dấu là -8 đến 7
```

### Bài 2: Xác định phạm vi giá trị của số nguyên 8 bit có dấu

**Lời giải:**
```
Bước 1: Xác định số bit
n = 8 bit

Bước 2: Tính giá trị tối đa
2^(n-1) - 1 = 2^(8-1) - 1 = 2^7 - 1 = 128 - 1 = 127

Bước 3: Tính giá trị tối thiểu
-2^(n-1) = -2^(8-1) = -2^7 = -128

Bước 4: Xác định phạm vi
-128 ≤ giá trị ≤ 127

Kết quả: Phạm vi của số nguyên 8 bit có dấu là -128 đến 127
```

### Bài 3: Xác định phạm vi giá trị của số nguyên 16 bit có dấu

**Lời giải:**
```
Bước 1: Xác định số bit
n = 16 bit

Bước 2: Tính giá trị tối đa
2^(n-1) - 1 = 2^(16-1) - 1 = 2^15 - 1 = 32768 - 1 = 32767

Bước 3: Tính giá trị tối thiểu
-2^(n-1) = -2^(16-1) = -2^15 = -32768

Bước 4: Xác định phạm vi
-32768 ≤ giá trị ≤ 32767

Kết quả: Phạm vi của số nguyên 16 bit có dấu là -32768 đến 32767
```

### Bài 4: Xác định phạm vi giá trị của số nguyên 32 bit có dấu

**Lời giải:**
```
Bước 1: Xác định số bit
n = 32 bit

Bước 2: Tính giá trị tối đa
2^(n-1) - 1 = 2^(32-1) - 1 = 2^31 - 1 = 2147483648 - 1 = 2147483647

Bước 3: Tính giá trị tối thiểu
-2^(n-1) = -2^(32-1) = -2^31 = -2147483648

Bước 4: Xác định phạm vi
-2147483648 ≤ giá trị ≤ 2147483647

Kết quả: Phạm vi của số nguyên 32 bit có dấu là -2147483648 đến 2147483647
```

### Bài 5: Kiểm tra tràn số: 20 trong 4 bit có dấu

**Lời giải:**
```
Bước 1: Xác định phạm vi 4 bit
-8 ≤ giá trị ≤ 7

Bước 2: Kiểm tra giá trị 20
20 > 7 ✗

Bước 3: Xác định tràn số
Có tràn số

Bước 4: Tính kết quả thực tế
20 mod 16 = 4

Kết quả: 20 trong 4 bit có dấu có tràn số, kết quả thực tế là 4
```

### Bài 6: Kiểm tra tràn số: -20 trong 4 bit có dấu

**Lời giải:**
```
Bước 1: Xác định phạm vi 4 bit
-8 ≤ giá trị ≤ 7

Bước 2: Kiểm tra giá trị -20
-20 < -8 ✗

Bước 3: Xác định tràn số
Có tràn số

Bước 4: Tính kết quả thực tế
-20 + 16 = -4

Kết quả: -20 trong 4 bit có dấu có tràn số, kết quả thực tế là -4
```

### Bài 7: Kiểm tra tràn số: 300 trong 8 bit có dấu

**Lời giải:**
```
Bước 1: Xác định phạm vi 8 bit
-128 ≤ giá trị ≤ 127

Bước 2: Kiểm tra giá trị 300
300 > 127 ✗

Bước 3: Xác định tràn số
Có tràn số

Bước 4: Tính kết quả thực tế
300 mod 256 = 44

Kết quả: 300 trong 8 bit có dấu có tràn số, kết quả thực tế là 44
```

### Bài 8: Kiểm tra tràn số: -300 trong 8 bit có dấu

**Lời giải:**
```
Bước 1: Xác định phạm vi 8 bit
-128 ≤ giá trị ≤ 127

Bước 2: Kiểm tra giá trị -300
-300 < -128 ✗

Bước 3: Xác định tràn số
Có tràn số

Bước 4: Tính kết quả thực tế
-300 + 256 = -44

Kết quả: -300 trong 8 bit có dấu có tràn số, kết quả thực tế là -44
```

### Bài 9: Kiểm tra tràn số: 7 trong 4 bit có dấu

**Lời giải:**
```
Bước 1: Xác định phạm vi 4 bit
-8 ≤ giá trị ≤ 7

Bước 2: Kiểm tra giá trị 7
7 ≤ 7 ✓

Bước 3: Xác định tràn số
Không tràn số

Bước 4: Kết quả thực tế
7

Kết quả: 7 trong 4 bit có dấu không tràn số, kết quả thực tế là 7
```

### Bài 10: Kiểm tra tràn số: -8 trong 4 bit có dấu

**Lời giải:**
```
Bước 1: Xác định phạm vi 4 bit
-8 ≤ giá trị ≤ 7

Bước 2: Kiểm tra giá trị -8
-8 ≥ -8 ✓

Bước 3: Xác định tràn số
Không tràn số

Bước 4: Kết quả thực tế
-8

Kết quả: -8 trong 4 bit có dấu không tràn số, kết quả thực tế là -8
```

---

## BÀI TẬP TỰ RÈN LUYỆN (20 bài)

### Cấp độ cơ bản (1-10):
1. Xác định phạm vi giá trị của số nguyên 5 bit có dấu
2. Xác định phạm vi giá trị của số nguyên 6 bit có dấu
3. Xác định phạm vi giá trị của số nguyên 7 bit có dấu
4. Xác định phạm vi giá trị của số nguyên 9 bit có dấu
5. Xác định phạm vi giá trị của số nguyên 10 bit có dấu
6. Kiểm tra tràn số: 25 trong 4 bit có dấu
7. Kiểm tra tràn số: -25 trong 4 bit có dấu
8. Kiểm tra tràn số: 500 trong 8 bit có dấu
9. Kiểm tra tràn số: -500 trong 8 bit có dấu
10. Kiểm tra tràn số: 1 trong 4 bit có dấu

### Cấp độ trung bình (11-15):
11. Xác định phạm vi giá trị của số nguyên 12 bit có dấu
12. Xác định phạm vi giá trị của số nguyên 14 bit có dấu
13. Xác định phạm vi giá trị của số nguyên 18 bit có dấu
14. Xác định phạm vi giá trị của số nguyên 20 bit có dấu
15. Xác định phạm vi giá trị của số nguyên 24 bit có dấu

### Cấp độ nâng cao (16-20):
16. Kiểm tra tràn số: 50 trong 4 bit có dấu
17. Kiểm tra tràn số: -50 trong 4 bit có dấu
18. Kiểm tra tràn số: 1000 trong 8 bit có dấu
19. Kiểm tra tràn số: -1000 trong 8 bit có dấu
20. Kiểm tra tràn số: 2^31 trong 32 bit có dấu

---

## MẸO VÀ LƯU Ý

### MẸO LÀM NHANH:
- **Nhớ công thức** phạm vi: -2^(n-1) đến 2^(n-1) - 1
- **Tính giá trị tối đa** = 2^(n-1) - 1
- **Tính giá trị tối thiểu** = -2^(n-1)
- **Kiểm tra tràn** = giá trị > 2^(n-1) - 1 hoặc < -2^(n-1)

### LƯU Ý QUAN TRỌNG:
- **Bit dấu** ở vị trí đầu tiên
- **Phạm vi** không đối xứng
- **Số bit cố định** (không thay đổi)
- **Tràn số** không phải lỗi, mà là đặc tính

### CÁCH KIỂM TRA:
- **Tính toán** phạm vi trước
- **So sánh** giá trị với phạm vi
- **Xác định** tràn số nếu có
- **Tính** kết quả thực tế

### CÁC SỐ ĐẶC BIỆT:
- **0**: giá trị trung tính
- **2^(n-1) - 1**: giá trị tối đa
- **-2^(n-1)**: giá trị tối thiểu

### PHƯƠNG PHÁP NHANH:
1. **Tính** phạm vi
2. **Kiểm tra** giá trị
3. **Xác định** tràn số
4. **Tính** kết quả thực tế

### VÍ DỤ ỨNG DỤNG:
```cpp
// Xác định phạm vi số nguyên có dấu
struct SignedRange {
    int minValue;
    int maxValue;
    int bits;
};

SignedRange getSignedRange(int bits) {
    int maxValue = (1 << (bits - 1)) - 1;
    int minValue = -(1 << (bits - 1));
    return {minValue, maxValue, bits};
}

// Kiểm tra tràn số
struct OverflowResult {
    bool overflow;
    int actualValue;
};

OverflowResult checkOverflow(int value, int bits) {
    int maxValue = (1 << (bits - 1)) - 1;
    int minValue = -(1 << (bits - 1));
    bool overflow = value > maxValue || value < minValue;
    int actualValue = overflow ? (value & ((1 << bits) - 1)) : value;
    
    return {overflow, actualValue};
}

// Tính giá trị tối đa
int getMaxValue(int bits) {
    return (1 << (bits - 1)) - 1;
}

// Tính giá trị tối thiểu
int getMinValue(int bits) {
    return -(1 << (bits - 1));
}
```

### ỨNG DỤNG THỰC TẾ:
- **Máy tính**: Signed integer types
- **Assembly**: Signed arithmetic
- **Memory addressing**: Address calculations
- **Counters**: Loop counters, array indices
- **Flags**: Boolean flags, status bits

---

**Tài liệu tham khảo:**
- Chương 2: Biểu diễn dữ liệu trên máy tính
- Phần 4.1: Biểu diễn số nguyên có dấu
