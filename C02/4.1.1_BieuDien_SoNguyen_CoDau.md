# 4.1.1 BIỂU DIỄN SỐ NGUYÊN CÓ DẤU

## Mô tả dạng bài tập
Biểu diễn số nguyên có dấu trong hệ nhị phân với độ dài bit cố định và tính toán phạm vi giá trị.

**Lưu ý quan trọng:** File này mô tả biểu diễn số có dấu bằng phương pháp **SIGNED MAGNITUDE** (bit dấu + phần trị). Để biểu diễn số có dấu bằng phương pháp **TWO'S COMPLEMENT** (bù 2 - chuẩn máy tính), xem file 4.2.2.

## Phương pháp giải

### Phương pháp 1: Chuyển đổi trực tiếp
1. **Chuyển số thập phân** sang nhị phân
2. **Thêm bit dấu** (0=dương, 1=âm)
3. **Kiểm tra** phạm vi giá trị

### Phương pháp 2: Tính toán phạm vi
1. **Phạm vi**: -(2^(n-1) - 1) đến 2^(n-1) - 1
2. **Số bit**: n bit
3. **Giá trị tối đa**: 2^(n-1) - 1
4. **Giá trị tối thiểu**: -(2^(n-1) - 1)
5. **Lưu ý**: Có hai biểu diễn cho số 0 (+0 và -0)

## Bảng phạm vi giá trị:
| Số bit | Phạm vi | Giá trị tối đa | Giá trị tối thiểu |
|--------|---------|----------------|-------------------|
| 4      | -7 đến 7 | 7              | -7                |
| 8      | -127 đến 127 | 127          | -127              |
| 16     | -32767 đến 32767 | 32767      | -32767            |
| 32     | -2147483647 đến 2147483647 | 2147483647 | -2147483647 |

**Lưu ý:** Trong signed magnitude, có hai biểu diễn cho số 0: +0 (bit dấu = 0) và -0 (bit dấu = 1). Phạm vi không bao gồm -2^(n-1) vì đó là -0, không phải số âm lớn nhất.

---

## BÀI TẬP CÓ LỜI GIẢI CHI TIẾT (10 bài)

### Bài 1: Biểu diễn số 5 trong 4 bit có dấu

**Lời giải:**
```
Bước 1: Xác định dấu
5 > 0 → dấu dương

Bước 2: Chuyển 5₁₀ sang nhị phân
5₁₀ = 101₂

Bước 3: Thêm bit dấu (0=dương)
0101₂

Bước 4: Kiểm tra phạm vi
4 bit: -7 ≤ 5 ≤ 7 ✓

Kết quả: 5₁₀ = 0101₂ (4 bit có dấu)
```

### Bài 2: Biểu diễn số -5 trong 4 bit có dấu

**Lời giải:**
```
Bước 1: Xác định dấu
-5 < 0 → dấu âm

Bước 2: Chuyển 5₁₀ sang nhị phân
5₁₀ = 101₂

Bước 3: Thêm bit dấu (1=âm)
1101₂

Bước 4: Kiểm tra phạm vi
4 bit: -7 ≤ -5 ≤ 7 ✓

Kết quả: -5₁₀ = 1101₂ (4 bit có dấu)
```

### Bài 3: Biểu diễn số 7 trong 4 bit có dấu

**Lời giải:**
```
Bước 1: Xác định dấu
7 > 0 → dấu dương

Bước 2: Chuyển 7₁₀ sang nhị phân
7₁₀ = 111₂

Bước 3: Thêm bit dấu (0=dương)
0111₂

Bước 4: Kiểm tra phạm vi
4 bit: -7 ≤ 7 ≤ 7 ✓

Kết quả: 7₁₀ = 0111₂ (4 bit có dấu)
```

### Bài 4: Biểu diễn số -7 trong 4 bit có dấu

**Lời giải:**
```
Bước 1: Xác định dấu
-7 < 0 → dấu âm

Bước 2: Chuyển 7₁₀ sang nhị phân
7₁₀ = 111₂

Bước 3: Thêm bit dấu (1=âm)
1111₂

Bước 4: Kiểm tra phạm vi
4 bit: -7 ≤ -7 ≤ 7 ✓

Kết quả: -7₁₀ = 1111₂ (4 bit có dấu)
Lưu ý: Trong signed magnitude 4 bit, phạm vi là -7 đến +7. 
Số 1000₂ là -0, không phải -8.
```

### Bài 5: Biểu diễn số 25 trong 8 bit có dấu

**Lời giải:**
```
Bước 1: Xác định dấu
25 > 0 → dấu dương

Bước 2: Chuyển 25₁₀ sang nhị phân
25₁₀ = 11001₂

Bước 3: Thêm bit dấu (0=dương)
00011001₂

Bước 4: Kiểm tra phạm vi
8 bit: -127 ≤ 25 ≤ 127 ✓

Kết quả: 25₁₀ = 00011001₂ (8 bit có dấu)
```

### Bài 6: Biểu diễn số -100 trong 8 bit có dấu

**Lời giải:**
```
Bước 1: Xác định dấu
-100 < 0 → dấu âm

Bước 2: Chuyển 100₁₀ sang nhị phân
100₁₀ = 1100100₂

Bước 3: Thêm bit dấu (1=âm)
11100100₂

Bước 4: Kiểm tra phạm vi
8 bit: -127 ≤ -100 ≤ 127 ✓

Kết quả: -100₁₀ = 11100100₂ (8 bit có dấu)
```

### Bài 7: Biểu diễn số 127 trong 8 bit có dấu

**Lời giải:**
```
Bước 1: Xác định dấu
127 > 0 → dấu dương

Bước 2: Chuyển 127₁₀ sang nhị phân
127₁₀ = 1111111₂

Bước 3: Thêm bit dấu (0=dương)
01111111₂

Bước 4: Kiểm tra phạm vi
8 bit: -127 ≤ 127 ≤ 127 ✓

Kết quả: 127₁₀ = 01111111₂ (8 bit có dấu)
```

### Bài 8: Biểu diễn số -127 trong 8 bit có dấu

**Lời giải:**
```
Bước 1: Xác định dấu
-127 < 0 → dấu âm

Bước 2: Chuyển 127₁₀ sang nhị phân
127₁₀ = 1111111₂

Bước 3: Thêm bit dấu (1=âm)
11111111₂

Bước 4: Kiểm tra phạm vi
8 bit: -127 ≤ -127 ≤ 127 ✓

Kết quả: -127₁₀ = 11111111₂ (8 bit có dấu)
Lưu ý: Trong signed magnitude 8 bit, phạm vi là -127 đến +127.
Số 10000000₂ là -0, không phải -128.
```

### Bài 9: Biểu diễn số 1000 trong 16 bit có dấu

**Lời giải:**
```
Bước 1: Xác định dấu
1000 > 0 → dấu dương

Bước 2: Chuyển 1000₁₀ sang nhị phân
1000₁₀ = 1111101000₂

Bước 3: Thêm bit dấu (0=dương)
0000001111101000₂

Bước 4: Kiểm tra phạm vi
16 bit: -32767 ≤ 1000 ≤ 32767 ✓

Kết quả: 1000₁₀ = 0000001111101000₂ (16 bit có dấu)
```

### Bài 10: Biểu diễn số -1000 trong 16 bit có dấu

**Lời giải:**
```
Bước 1: Xác định dấu
-1000 < 0 → dấu âm

Bước 2: Chuyển 1000₁₀ sang nhị phân
1000₁₀ = 1111101000₂ (10 bit)

Bước 3: Thêm bit dấu (1=âm) và đủ 15 bit phần trị
Phần trị 15 bit: 000001111101000₂ (thêm 5 bit 0 vào đầu)
Kết quả: 1 (bit dấu) + 000001111101000₂ = 1000001111101000₂

Bước 4: Kiểm tra phạm vi
16 bit: -32767 ≤ -1000 ≤ 32767 ✓

Kết quả: -1000₁₀ = 1000001111101000₂ (16 bit có dấu)
Kiểm tra: Bit dấu = 1 (âm), phần trị = 000001111101000₂ = 1000₁₀ ✓
```

---

## BÀI TẬP TỰ RÈN LUYỆN (20 bài)

### Cấp độ cơ bản (1-10):
1. Biểu diễn số 3 trong 4 bit có dấu
2. Biểu diễn số -3 trong 4 bit có dấu
3. Biểu diễn số 6 trong 4 bit có dấu
4. Biểu diễn số -6 trong 4 bit có dấu
5. Biểu diễn số 0 trong 4 bit có dấu
6. Biểu diễn số 50 trong 8 bit có dấu
7. Biểu diễn số -50 trong 8 bit có dấu
8. Biểu diễn số 100 trong 8 bit có dấu
9. Biểu diễn số -100 trong 8 bit có dấu
10. Biểu diễn số 0 trong 8 bit có dấu

### Cấp độ trung bình (11-15):
11. Biểu diễn số 1000 trong 16 bit có dấu
12. Biểu diễn số -1000 trong 16 bit có dấu
13. Biểu diễn số 10000 trong 16 bit có dấu
14. Biểu diễn số -10000 trong 16 bit có dấu
15. Biểu diễn số 0 trong 16 bit có dấu

### Cấp độ nâng cao (16-20):
16. Biểu diễn số 1000000 trong 32 bit có dấu
17. Biểu diễn số -1000000 trong 32 bit có dấu
18. Biểu diễn số 10000000 trong 32 bit có dấu
19. Biểu diễn số -10000000 trong 32 bit có dấu
20. Biểu diễn số 0 trong 32 bit có dấu

---

## MẸO VÀ LƯU Ý

### MẸO LÀM NHANH:
- **Bit đầu tiên** là bit dấu (0=dương, 1=âm)
- **Phạm vi**: -(2^(n-1) - 1) đến 2^(n-1) - 1
- **Giá trị tối đa**: 2^(n-1) - 1
- **Giá trị tối thiểu**: -(2^(n-1) - 1)
- **Lưu ý**: Có hai biểu diễn cho số 0 (+0 và -0)

### LƯU Ý QUAN TRỌNG:
- **Bit dấu** ở vị trí đầu tiên
- **Phạm vi** không đối xứng
- **Số bit cố định** (không thay đổi)
- **Kiểm tra** tràn số trước khi biểu diễn

### CÁCH KIỂM TRA:
- **Chuyển ngược** từ nhị phân về thập phân
- **Kiểm tra phạm vi** với số bit
- **Sử dụng máy tính** để verify

### CÁC SỐ ĐẶC BIỆT:
- **+0**: bit dấu = 0, phần trị = 0 (ví dụ: 0000₂)
- **-0**: bit dấu = 1, phần trị = 0 (ví dụ: 1000₂)
- **2^(n-1) - 1**: bit dấu = 0, phần trị = 2^(n-1) - 1 (số dương lớn nhất)
- **-(2^(n-1) - 1)**: bit dấu = 1, phần trị = 2^(n-1) - 1 (số âm nhỏ nhất)

### PHƯƠNG PHÁP NHANH:
1. **Xác định dấu**
2. **Chuyển sang nhị phân**
3. **Thêm bit dấu**
4. **Kiểm tra phạm vi**

### VÍ DỤ ỨNG DỤNG:
```cpp
// Biểu diễn số nguyên có dấu (signed magnitude)
string signedIntToBinary(int value, int bits) {
    int maxValue = (1 << (bits - 1)) - 1;
    if (value < -maxValue || value > maxValue) {
        return "Error: Value out of range";
    }
    
    string binary = "";
    int absValue = abs(value);
    
    // Bit dấu
    binary += (value < 0) ? "1" : "0";
    
    // Phần trị (n-1 bit)
    for (int i = bits - 2; i >= 0; i--) {
        binary += ((absValue >> i) & 1) ? "1" : "0";
    }
    
    return binary;
}

// Chuyển từ nhị phân về số nguyên có dấu (signed magnitude)
int binaryToSignedInt(string binary) {
    int value = 0;
    int bits = binary.length();
    
    // Tính phần trị (n-1 bit cuối)
    for (int i = 1; i < bits; i++) {
        if (binary[i] == '1') {
            value += (1 << (bits - 1 - i));
        }
    }
    
    // Kiểm tra bit dấu
    if (binary[0] == '1') {
        // Số âm: đổi dấu phần trị
        if (value == 0) {
            // -0 (có thể xử lý đặc biệt)
            value = 0; // Hoặc return một giá trị đặc biệt
        } else {
            value = -value;
        }
    }
    // Số dương: giữ nguyên value
    
    return value;
}
```

### ỨNG DỤNG THỰC TẾ:
- **Máy tính**: Signed integer types
- **Assembly**: Signed arithmetic
- **Memory addressing**: Address calculations
- **Counters**: Loop counters, array indices
- **Flags**: Boolean flags, status bits

---

**Tài liệu tham khảo:**
- Chương 2: Biểu diễn dữ liệu trên máy tính
- Phần 4.1: Biểu diễn số nguyên có dấu
