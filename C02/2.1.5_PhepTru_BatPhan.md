# 2.1.5 PHÉP TRỪ BÁT PHÂN

## Mô tả dạng bài tập
Thực hiện phép trừ giữa hai số bát phân bằng phương pháp trừ trực tiếp hoặc sử dụng bù 8.

## Phương pháp giải

### Phương pháp 1: Trừ trực tiếp
1. **Viết hai số bát phân** theo cột
2. **Trừ từ phải sang trái**
3. **Mượn 8** từ bit bên trái khi cần thiết

### Phương pháp 2: Sử dụng bù 8
1. **Tìm bù 8** của số trừ
2. **Cộng** số bị trừ với bù 8 của số trừ
3. **Bỏ bit tràn** nếu có

## Bảng trừ bát phân:
| A | B | A - B | Mượn |
|---|---|-------|------|
| 0 | 0 | 0     | 0    |
| 0 | 1 | 7     | 1    |
| 0 | 2 | 6     | 1    |
| 0 | 3 | 5     | 1    |
| 0 | 4 | 4     | 1    |
| 0 | 5 | 3     | 1    |
| 0 | 6 | 2     | 1    |
| 0 | 7 | 1     | 1    |
| 1 | 0 | 1     | 0    |
| 1 | 1 | 0     | 0    |
| 1 | 2 | 7     | 1    |
| 1 | 3 | 6     | 1    |
| 1 | 4 | 5     | 1    |
| 1 | 5 | 4     | 1    |
| 1 | 6 | 3     | 1    |
| 1 | 7 | 2     | 1    |
| 2 | 0 | 2     | 0    |
| 2 | 1 | 1     | 0    |
| 2 | 2 | 0     | 0    |
| 2 | 3 | 7     | 1    |
| 2 | 4 | 6     | 1    |
| 2 | 5 | 5     | 1    |
| 2 | 6 | 4     | 1    |
| 2 | 7 | 3     | 1    |
| 3 | 0 | 3     | 0    |
| 3 | 1 | 2     | 0    |
| 3 | 2 | 1     | 0    |
| 3 | 3 | 0     | 0    |
| 3 | 4 | 7     | 1    |
| 3 | 5 | 6     | 1    |
| 3 | 6 | 5     | 1    |
| 3 | 7 | 4     | 1    |
| 4 | 0 | 4     | 0    |
| 4 | 1 | 3     | 0    |
| 4 | 2 | 2     | 0    |
| 4 | 3 | 1     | 0    |
| 4 | 4 | 0     | 0    |
| 4 | 5 | 7     | 1    |
| 4 | 6 | 6     | 1    |
| 4 | 7 | 5     | 1    |
| 5 | 0 | 5     | 0    |
| 5 | 1 | 4     | 0    |
| 5 | 2 | 3     | 0    |
| 5 | 3 | 2     | 0    |
| 5 | 4 | 1     | 0    |
| 5 | 5 | 0     | 0    |
| 5 | 6 | 7     | 1    |
| 5 | 7 | 6     | 1    |
| 6 | 0 | 6     | 0    |
| 6 | 1 | 5     | 0    |
| 6 | 2 | 4     | 0    |
| 6 | 3 | 3     | 0    |
| 6 | 4 | 2     | 0    |
| 6 | 5 | 1     | 0    |
| 6 | 6 | 0     | 0    |
| 6 | 7 | 7     | 1    |
| 7 | 0 | 7     | 0    |
| 7 | 1 | 6     | 0    |
| 7 | 2 | 5     | 0    |
| 7 | 3 | 4     | 0    |
| 7 | 4 | 3     | 0    |
| 7 | 5 | 2     | 0    |
| 7 | 6 | 1     | 0    |
| 7 | 7 | 0     | 0    |

---

## BÀI TẬP CÓ LỜI GIẢI CHI TIẾT (10 bài)

### Bài 1: Tính 25₈ - 14₈

**Lời giải:**
```
  25₈
- 14₈
-----
  11₈

Chi tiết:
Vị trí 0: 5 - 4 = 1
Vị trí 1: 2 - 1 = 1

Kết quả: 25₈ - 14₈ = 11₈
```

### Bài 2: Tính 47₈ - 23₈

**Lời giải:**
```
  47₈
- 23₈
-----
  24₈

Chi tiết:
Vị trí 0: 7 - 3 = 4
Vị trí 1: 4 - 2 = 2

Kết quả: 47₈ - 23₈ = 24₈
```

### Bài 3: Tính 123₈ - 45₈

**Lời giải:**
```
  123₈
-  45₈
-----
   56₈

Chi tiết:
Vị trí 0: 3 - 5 = 6 (mượn 8 từ vị trí 1)
Vị trí 1: 1 - 4 = 5 (sau khi mượn)

Kết quả: 123₈ - 45₈ = 56₈
```

### Bài 4: Tính 456₈ - 234₈

**Lời giải:**
```
  456₈
- 234₈
-----
  222₈

Chi tiết:
Vị trí 0: 6 - 4 = 2
Vị trí 1: 5 - 3 = 2
Vị trí 2: 4 - 2 = 2

Kết quả: 456₈ - 234₈ = 222₈
```

### Bài 5: Tính 777₈ - 123₈

**Lời giải:**
```
  777₈
- 123₈
-----
  654₈

Chi tiết:
Vị trí 0: 7 - 3 = 4
Vị trí 1: 7 - 2 = 5
Vị trí 2: 7 - 1 = 6

Kết quả: 777₈ - 123₈ = 654₈
```

### Bài 6: Tính 1000₈ - 777₈

**Lời giải:**
```
 1000₈
- 777₈
-----
   1₈

Chi tiết:
Vị trí 0: 0 - 7 = 1 (mượn 8 từ vị trí 1)
Vị trí 1: 0 - 7 = 1 (mượn 8 từ vị trí 2)
Vị trí 2: 0 - 7 = 1 (mượn 8 từ vị trí 3)
Vị trí 3: 0 - 0 = 0

Kết quả: 1000₈ - 777₈ = 1₈
```

### Bài 7: Tính 1234₈ - 567₈

**Lời giải:**
```
 1234₈
- 567₈
-----
  445₈

Chi tiết:
Vị trí 0: 4 - 7 = 5 (mượn 8 từ vị trí 1)
Vị trí 1: 2 - 6 = 4 (sau khi mượn)
Vị trí 2: 3 - 5 = 6 (mượn 8 từ vị trí 3)
Vị trí 3: 0 - 0 = 0

Kết quả: 1234₈ - 567₈ = 445₈
```

### Bài 8: Tính 2345₈ - 1234₈

**Lời giải:**
```
 2345₈
-1234₈
-----
 1111₈

Chi tiết:
Vị trí 0: 5 - 4 = 1
Vị trí 1: 4 - 3 = 1
Vị trí 2: 3 - 2 = 1
Vị trí 3: 2 - 1 = 1

Kết quả: 2345₈ - 1234₈ = 1111₈
```

### Bài 9: Tính 3456₈ - 2345₈

**Lời giải:**
```
 3456₈
-2345₈
-----
 1111₈

Chi tiết:
Vị trí 0: 6 - 5 = 1
Vị trí 1: 5 - 4 = 1
Vị trí 2: 4 - 3 = 1
Vị trí 3: 3 - 2 = 1

Kết quả: 3456₈ - 2345₈ = 1111₈
```

### Bài 10: Tính 4567₈ - 3456₈

**Lời giải:**
```
 4567₈
-3456₈
-----
 1111₈

Chi tiết:
Vị trí 0: 7 - 6 = 1
Vị trí 1: 6 - 5 = 1
Vị trí 2: 5 - 4 = 1
Vị trí 3: 4 - 3 = 1

Kết quả: 4567₈ - 3456₈ = 1111₈
```

---

## BÀI TẬP TỰ RÈN LUYỆN (20 bài)

### Cấp độ cơ bản (1-10):
1. Tính 12₈ - 10₈
2. Tính 23₈ - 11₈
3. Tính 34₈ - 22₈
4. Tính 45₈ - 33₈
5. Tính 56₈ - 44₈
6. Tính 67₈ - 55₈
7. Tính 70₈ - 66₈
8. Tính 101₈ - 77₈
9. Tính 123₈ - 45₈
10. Tính 234₈ - 56₈

### Cấp độ trung bình (11-15):
11. Tính 345₈ - 67₈
12. Tính 456₈ - 78₈
13. Tính 567₈ - 89₈
14. Tính 670₈ - 12₈
15. Tính 701₈ - 23₈

### Cấp độ nâng cao (16-20):
16. Tính 1234₈ - 567₈
17. Tính 2345₈ - 678₈
18. Tính 3456₈ - 789₈
19. Tính 4567₈ - 890₈
20. Tính 5670₈ - 123₈

---

##  MẸO VÀ LƯU Ý

### MẸO LÀM NHANH:
- **Trừ từ phải sang trái**
- **Mượn 8** từ bit bên trái khi cần
- **Sử dụng bù 8** cho số lớn
- **Kiểm tra** bằng cách cộng ngược lại

### LƯU Ý QUAN TRỌNG:
- **Mượn 8** = thêm 8 vào bit hiện tại
- **Bù 8** = bù 7 + 1
- **Bỏ bit tràn** khi sử dụng bù 8
- **Kiểm tra** kết quả bằng cách cộng ngược

### CÁCH KIỂM TRA:
- **Cộng ngược**: Kết quả + số trừ = số bị trừ
- **Chuyển sang thập phân** để verify
- **Sử dụng máy tính** để kiểm tra

### CÁC TRƯỜNG HỢP ĐẶC BIỆT:
- **A - A = 0** (bất kỳ số nào)
- **A - 0 = A** (trừ 0)
- **0 - A** (cần mượn nhiều bit)

### PHƯƠNG PHÁP NHANH:
1. **Viết theo cột** từ phải sang trái
2. **Trừ từng bit** một
3. **Mượn 8** khi cần thiết
4. **Kiểm tra** kết quả

### VÍ DỤ ỨNG DỤNG:
```cpp
// Phép trừ bát phân
string octalSubtract(string a, string b) {
    // Đảm bảo độ dài bằng nhau
    int maxLen = max(a.length(), b.length());
    while (a.length() < maxLen) a = "0" + a;
    while (b.length() < maxLen) b = "0" + b;
    
    string result = "";
    int borrow = 0;
    
    // Trừ từ phải sang trái
    for (int i = maxLen - 1; i >= 0; i--) {
        int digitA = a[i] - '0';
        int digitB = b[i] - '0';
        
        // Trừ với mượn
        int diff = digitA - digitB - borrow;
        
        if (diff < 0) {
            diff += 8;
            borrow = 1;
        } else {
            borrow = 0;
        }
        
        result = to_string(diff) + result;
    }
    
    // Bỏ số 0 thừa ở đầu
    while (result.length() > 1 && result[0] == '0') {
        result = result.substr(1);
    }
    
    return result;
}
```

### ỨNG DỤNG THỰC TẾ:
- **Máy tính**: ALU operations
- **Assembly**: SUB instruction
- **File permissions**: Unix/Linux
- **Network addressing**: IP addresses

---

**Tài liệu tham khảo:**
- Chương 2: Biểu diễn dữ liệu trên máy tính
- Phần 2.2: Phép toán số học trên hệ bát phân
